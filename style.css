/*
================================================================================
APP THEME & LAYOUT (v2.3)  *ULTRA-DETAILED ANNOTATED*
================================================================================
GOALS
- Clean, friendly visuals with high contrast and generous spacing.
- Components styled as independent blocks (card, pill, badge) for reuse.
- Full-map mode driven by a single body class to simplify JS.

BEGINNER CONCEPTS
- Design tokens via CSS custom properties (variables) for colors/shadows.
- Visual hierarchy: titlebar, badge, primary buttons get stronger emphasis.
- Responsive grid: content-split collapses to 1-col under 860px.

NOTES
- Subtle shadows and borders layer to create depth without looking heavy.
- Transition properties used sparingly (buttons, stamps) for responsiveness.
================================================================================
*/
/* Pretty theme */
/* Design tokens: update these to re-skin the app quickly. */
:root{
  --bg: #f6f8ff;
  --card:#ffffff;
  --ink:#1f2430;
  --muted:#6f7690;
  --accent:#2563eb;      /* Indigo-500 */
  --accent-2:#60a5fa;    /* Sky-400 */
  --chip:#eef2ff;
  --good:#10b981;
  --shadow: 0 10px 20px rgba(18, 51, 139, .10), 0 2px 6px rgba(18, 51, 139, .08);
}
*{box-sizing:border-box}
html,/* Base text, background layering, and font stack for legibility. */
body{height:100%}
/* Base text, background layering, and font stack for legibility. */
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at -10% -10%, #e6eeff 0, transparent 60%),
    radial-gradient(1200px 800px at 110% -20%, #eaf6ff 0, transparent 60%),
    var(--bg);
  font:16px/1.35 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

/* Header */
/* Sticky, translucent header: backdrop-filter provides the 'glass' look. */
header.glass{
  position:sticky; top:0; z-index:30;
  backdrop-filter: saturate(160%) blur(8px);
  background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
  border-bottom:1px solid rgba(65,90,170,.12);
}
/* Arrange brand, badge, actions across the header. */
.titlebar{display:flex;align-items:center;gap:12px;padding:10px 14px}
.brand{display:flex;align-items:center;gap:10px}
/* Tiny gradient disc as a lightweight 'logo'. */
.brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(120deg,var(--accent),var(--accent-2));box-shadow:0 0 0 3px rgba(37,99,235,.15)}
h1{margin:0;font-size:22px;font-weight:800;letter-spacing:.2px}
/* Live count pill. Small font, subtle shadow, readable border. */
.badge{
  background:#fff;border:1px solid #e6e9f5;border-radius:999px;padding:6px 12px;
  font-size:13px;color:#2a2f40; box-shadow: var(--shadow);
}
.actions{margin-left:auto;display:flex;gap:8px}
/* Pill button: generic style that variants (primary/ghost) extend. */
.pill{border-radius:999px;padding:8px 14px;border:1px solid #d9e0f5;background:#fff;cursor:pointer;transition:transform .06s ease, box-shadow .2s}
.pill:active{transform:translateY(1px)}
/* Primary action (toggle view). Gradient gives emphasis. */
.primary{background:linear-gradient(180deg,var(--accent),#1d4ed8);color:#fff;border-color:#1b49c9;box-shadow:0 6px 16px rgba(37,99,235,.25)}
.primary:active{filter:brightness(.98)}
/* Secondary action (reset). Neutral background. */
.ghost{background:#fff}

/* Main layout */
/* Main content padding; kept small to maximize usable space. */
main{padding:14px}
/* Views are toggled via .active to avoid DOM churn. */
.view{display:none}.view.active{display:block}
/* Two-column grid that collapses to one on mobile. */
.content-split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
/* Generic card container with soft border and shadow. */
.card{background:var(--card);border:1px solid #e7e9f6;border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
/* Leaflet canvas height. Tied to viewport height for a balanced split. */
#map{height:68vh}
/* Positioning context for floating map-toggle button. */
.map-wrap{position:relative}
/* Floating toggle button that switches full-map mode. */
.map-toggle{position:absolute;right:10px;top:10px;z-index:900;background:#fff;border:1px solid #d9dfe7}
/* Scrollable list area; padding for touch-friendly rows. */
.scroll-list{height:68vh;overflow:auto;padding:6px}

/* Controls */
/* ▲/▼ buttons placed above list for quick thumb access. */
.controls{display:flex;gap:10px;margin-bottom:10px}
.controls /* Pill button: generic style that variants (primary/ghost) extend. */
.pill{min-width:46px}

/* Rows */
/* One row: name/coords plus an action chip at the end. */
.pool-item{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px dashed #eef1fb}
.pool-item:last-child{border-bottom:none}
.pool-name{font-weight:700;letter-spacing:.2px}
.coords{color:var(--muted);font-size:12.5px}
/* Subtle background gradient for the active row. */
.row-selected{background:linear-gradient(90deg, #f0f5ff, #ffffff)}

/* Stamp chip with micro animation */
/* Rounded action chip; dashed border echoes passport aesthetic. */
.stamp-chip{
  margin-left:auto;border:1px dashed #c8d3ff;background:var(--chip);
  padding:6px 12px;border-radius:999px;font-size:13px;cursor:pointer;
  transition: background .2s ease, transform .06s ease;
}
.stamp-chip:active{transform:translateY(1px)}
/* Visual state when a pool is visited. Greener background for success. */
.stamped{background:#e7fff3;border-color:#baf3d2;color:#0f7a56}

/* Passport */
.subtitle{margin:6px 0 12px 4px;font-size:18px;font-weight:800;color:#1f2a44}
/* Responsive grid of 'passport' cards. */
.passport-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}
/* Decorative card with inset border to resemble paper texture. */
.passport{
  position:relative;background:var(--card);border:2px solid #e8e1c5;border-radius:14px;
  padding:18px;min-height:150px;box-shadow:inset 0 0 0 2px #f7f1d7, var(--shadow);
}
.passport .title{font-weight:800;margin-bottom:6px}
/* Positioned 'rubber stamp' graphic; rotation adds realism. */
.stamp{position:absolute;right:10px;bottom:10px;opacity:.94;transform:rotate(-8deg) scale(.88);transition: transform .25s ease, opacity .25s ease}
/* Micro-animation hook: scale slightly on (re)stamp. */
.stamp.pop{transform:rotate(-8deg) scale(1.02)}
/* Slight grayscale to blend with various backgrounds. */
.stamp img{width:96px;height:96px;filter:grayscale(.05)}
/* Overlaid text label on the stamp image. */
.stamp .label{position:absolute;left:50%;top:56%;transform:translate(-50%,-50%) rotate(-8deg);font-weight:900;font-size:11px;text-align:center;max-width:80px}
/* Supportive, low-emphasis copy color. */
.hint{color:var(--muted)}

/* Fullscreen map mode */
/* In full-map, hide header to maximize space. */
.full-map header{display:none}
.full-map /* Main content padding; kept small to maximize usable space. */
main{padding:0}
.full-map #listView /* Two-column grid that collapses to one on mobile. */
.content-split{grid-template-columns:1fr}
.full-map /* Leaflet canvas height. Tied to viewport height for a balanced split. */
#map{height:100vh;border-radius:0;border:none}
.full-map .scroll-list,.full-map /* ▲/▼ buttons placed above list for quick thumb access. */
.controls{display:none}
.full-map /* Floating toggle button that switches full-map mode. */
.map-toggle{top:12px;right:12px}

/* Mobile */
/* Mobile breakpoint: collapse to single column; adjust heights for smaller screens. */
@media (max-width: 860px){
  /* Two-column grid that collapses to one on mobile. */
.content-split{grid-template-columns:1fr}
  #map,/* Scrollable list area; padding for touch-friendly rows. */
.scroll-list{height:58vh}
}

/*
================================================================================
ULTRA KEY TAKEAWAYS (CSS)
1) Centralize colors/shadows in :root for easy theming and consistency.
2) Use grid for layout; it adapts better than floats and needs fewer wrappers.
3) Prefer small, predictable transitions; avoid animating layout properties.
4) Drive big layout changes with a single body class ('.full-map') → simpler JS.
5) Keep components decoupled; each block (.card, .pill, .passport) stands alone.
================================================================================
*/


/* ==========================================================================
   PASSPORT SPLASH THEME (classic) — textured navy + gold
   ========================================================================== */
:root{
  --passport-blue:#0a1b3a;
  --gold:#cda75b;
  --gold-deep:#a6843d;
  --ink:#051025;
}
/* Keep body for app pages as-is; only the splash page uses these */
.splash-body{
  margin:0; min-height:100vh; background:var(--passport-blue);
  font-family: ui-serif, Georgia, "Times New Roman", serif;
  color: var(--gold);
}

/* Center the passport */
.splash{display:grid; place-items:center; min-height:100vh; padding:20px}

/* The 'cover' uses layered gradients to mimic linen/leather */
.cover{
  display:grid; gap:22px; place-items:center;
  width:min(92vw, 560px);
  padding: 34px 28px 44px;
  border-radius: 18px;
  color: var(--gold);
  border: 1.5px solid #0d214d;
  box-shadow:
    0 18px 50px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -2px 0 rgba(0,0,0,.35);

  /* Texture stack:
     1) diagonal crosshatch (linen)
     2) subtle pore highlights (leather-ish)
     3) vignette glows
     4) base navy
  */
  background:
    /* crosshatch */
    repeating-linear-gradient(135deg, rgba(255,255,255,.05) 0 1px, rgba(255,255,255,0) 1px 6px),
    repeating-linear-gradient(45deg, rgba(0,0,0,.07) 0 1px, rgba(0,0,0,0) 1px 7px),
    /* pores */
    radial-gradient(1200px 800px at 30% 20%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(800px 700px at 70% 80%, rgba(0,0,0,.25), transparent 60%),
    /* base */
    var(--passport-blue);
  background-blend-mode: overlay, overlay, screen, multiply, normal;
}

/* Owner name in metallic gold */
.owner{
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  text-align:center;
  font-size: clamp(22px, 3.5vw, 34px);
  text-shadow: 0 1px 0 rgba(255,255,255,.15), 0 2px 0 rgba(0,0,0,.55);
}

/* Crest and ribbon overlay */
.crest-wrap{ position:relative; width:min(80vw, 440px); aspect-ratio: 3 / 4; display:grid; place-items:center; }
.crest{
  width:100%; height:100%; object-fit:contain;
  filter: saturate(0.9) hue-rotate(-18deg) contrast(1.05) brightness(0.95);
}
.ribbon-overlay{
  position:absolute; bottom:5.5%; left:50%; transform:translateX(-50%);
  font-weight:900; letter-spacing:.08em; text-transform:uppercase;
  font-size: clamp(18px, 3.4vw, 28px);
  color: var(--gold);
  text-shadow: 0 1px 0 rgba(255,255,255,.15), 0 2px 0 rgba(0,0,0,.55);
  -webkit-text-stroke: .6px var(--ink);
  padding: 2px 10px;
}

/* Buttons */
.btn{ border:none; padding:12px 18px; font-size:16px; border-radius:999px; cursor:pointer; }
.btn.gold{
  background: linear-gradient(#f0d68b, #cda75b 40%, #b18a46);
  color:#3a2b08; font-weight:700; letter-spacing:.03em;
  box-shadow: 0 6px 14px rgba(0,0,0,.3), inset 0 1px 1px rgba(255,255,255,.5);
}
.tiny-note{ margin:0; font-size:12px; opacity:.7 }